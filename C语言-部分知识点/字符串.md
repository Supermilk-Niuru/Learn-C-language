### 字符串的定义、输出、输入、遍历
###### 字符串的定义
+ **最标准**的定义方式：`char str[6] = {'H','e','l','l','o','\0'};`
+ 字符串数组+双引号：`char str[6] = "Hello";`
+ 用**指针+双引号**：`char *str = "Hello"; //指针指向字符串，将字符串的地址赋给str。`

###### 字符串的输出
+ **按照字符串数组+双引号定义**

```c
char str[6] = "Hello";
printf("%s\n",str);
```

**注意**：

1. 在计算机内部，会自动为我们转换成字符串数组`char str[6] = {'H','e','l','l','o','\0'};`的形式(末尾会加`'\0'`)。

**<font style="color:#DF2A3F;">会存放在普通内存中：可读可写。</font>**

2. 数组的长度，一定要留出`'\0'`的空间。
3. 此种方式定义的字符串中的内容是可以发生改变的。

```c
char str[6] = "Hello";
printf("%s\n",str);
str[1]='o';
printf("%s\n",str);
```

+ **使用指针+双引号定义**

```c
char *str = "Hello"；
printf("%s\n",str);
```

**<font style="color:#DF2A3F;">会存放在只读常量区：不可修改！！！</font>**

**<font style="color:#DF2A3F;">此种定义方法，字符串是可以复用的！</font>**

**字符串可以复用**：若只读常量区有相同的，则不会创建新的，会复用已经存在的。

**注意**：

`printf`遇到`\0`才会停止打印。

###### 字符串的输入
```c
char a[100];//[]里的值尽量大一点，避免数组越界。
scanf("%s",a);
```

❌**<font style="color:#DF2A3F;">不可以用指针+字符串的方式，因为不可修改！！！</font>**

###### 字符串的遍历
```c
#include<stdio.h>
int main()
{
    char a[100];
    scanf("%s",a);
    char *p = a;
    while(1)
    {
        char c = *p;
        if(c == '\0')
        {
            break;
        }
        else
        {
            printf("%c\n",c);
        }
        p++;
    }
}
```

**注意**：

1. 指针类型，数组类型都是`char`类型。
2. 结束条件：当读取到`'\0'`时候。由于我只知道循环结束的条件，不知道循环的次数，故不可用`for`循环。

### 字符串数组
###### 定义方式
字符串的本质相当于一个带上结束字符`'\0`的字符数组，字符串数组则是一个二维数组

+ **方式一**

`char str[5][100] = {"zhang","wang","liu","li","chen"};`

+ **方式二**

利用指针数组存储字符串的地址。

`char *a[5] = {"zhang","wang","liu","li","chen"};`

###### 遍历与输出
```c
#include<stdio.h>
int main()
{
    char str[5][100] = {"zhang","wang","liu","li","chen"};
    int i;
    for(i = 0;i<5;i++)
    {
        char *c = str[i];
        printf("%s\n",c);
    }
    return 0;
}
```

```c
#include<stdio.h>
int main()
{
    char *a[5] = {"zhang","wang","liu","li","chen"};
    int i;
    for(i=0;i<5;i++)
    {
        char *arr = a[i];
        printf("%s\n",arr);
    }
    return 0;
}
```

### 字符串常用函数
+ `strlen`：获取字符串的长度

**注意**：不计算结束标记`\0`。

+ `strcat`：字符串的拼接

**注意**：第一个字符串要能够被修改；第一个字符串的剩余空间能容纳第二个字符串

+ `strcpy`：字符串的复制

**注意**：同`strcat`。

+ `strcmp`：字符串的比较

**注意**：完全一样，返回0；完全一样是指大小写，顺序均一样。

+ `strlwr`：大写转小写

**注意**：不可以转中文；

+ `strupr`：小写转大写

**注意**：同`strlwr`。

###### 用户登陆
```c
#include<stdio.h>
#include<string.h>
int main()
{
    char username[100];
    char password[100];
    char *rightpassword = "12345678";
    char *rightusername = "zhangsan"; 
    int i = 0;
    for(i=1;i<=3;i++)
    {
        printf("请输入您的姓名:\n");
        scanf("%s",username);
        printf("请输入您的密码:\n");
        scanf("%s",password);
        if(!strcmp(rightusername,username)&&!strcmp(rightpassword,password))
        {
            printf("登录成功\n");
            break;
        }
        else
        {
            printf("登录失败,还剩%d次机会\n",3-i);
            if(i==3)
            {
                printf("用户已经被锁定\n");
            }
            else
            {
                continue;
            }
        }
    }
}
```

+ 问题一：

如果zhang san中间有空格，则无法达到目的。

由于`scanf`遇到` `就会停止录入，空格后面的输入直接存储到`password`中。

**解决办法**：

使用`fgets(存储变量，最大长度，输入流)`输入。

`fgets(username,sizeof(username),stdin);`

但是`fgets`会记录最后的`\n`,所以还要用`strcspn`函数

`username[strcspn(username,"\n")]='\0';`

`strcspn`就是一个搜索函数，其值的类型是`int`，规定第二个参数必须是**字符串**。`[]`里面就是下标。

+ 问题二：

如果中途换了人名，也会有问题。

###### 统计次数
```c
#include<stdio.h>
#include<string.h>
void count(char c[100]);
int main()
{
    char c[100];
    fgets(c,sizeof(c),stdin);
    c[strcspn(c,"\n")]='\0';
    count(c);
    return 0;
}
void count(char c[100])
{
    int bigcount=0,smallcount=0,numbercount=0;
    int i;
    for(i=0;c[i]!='\0';i++)
    {
        if(c[i]>='A'&&c[i]<='Z')
        {
            bigcount++;
        }
        else if (c[i]>='a'&&c[i]<='z')
        {
            smallcount++;
        }
        else if (c[i]>='0'&&c[i]<='9')
        {
            numbercount++;
        }
    }
    printf("大写%d,小写%d,数字%d\n",bigcount,smallcount,numbercount);
}
```

循环终止的条件：

使用`c[i]!='\0'`比使用`i<strlen(c)`更省时间。

